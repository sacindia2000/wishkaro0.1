var db,temp,my_clouddata_instance={datacount:1,lastVisible:0};function myfirebase_init(){firebase.initializeApp({apiKey:"AIzaSyCA0RlvgN4ZLba2uAuCi3hgZDd0RHpmGJY",authDomain:"wishpix-5fff8.firebaseapp.com",databaseURL:"https://wishpix-5fff8.firebaseio.com",projectId:"wishpix-5fff8",storageBucket:"wishpix-5fff8.appspot.com",messagingSenderId:"281863013543"}),console.log("myfirebase_init initiazed"),db=firebase.firestore(),console.log("Firebase DB has been initialized"),console.log("Enable persistance"),firebase.firestore().enablePersistence().then(function(){console.log("Persistance enabled")}).catch(function(a){"failed-precondition"==a.code?console.log("Persistance failed-precondition"):"unimplemented"==a.code&&console.log("persistance unimplemented")})}function myfirestore_getdata(a,b,c){var d;d=0==my_clouddata_instance.lastVisible?db.collection("wishimages").orderBy("created-time").limit(b):db.collection("wishimages").orderBy("created-time").startAfter(my_clouddata_instance.lastVisible).limit(b),d.get().then(function(a){temp=a.docs[a.docs.length-1],a.forEach(function(a){var b={};b.timestamp=a.get("created-time"),b.linkwebp=a.get("link-webp"),b.linkimage=a.get("link-img"),console.log(b.timestamp+b.linkwebp),c(b)})}).catch(function(a){console.log("Error getting documents: ",a)})}function myfirestore_newdataind(){db.collection("dataupdated").onSnapshot(function(){console.log(" New data is available")})}